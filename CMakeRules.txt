CMAKE_MINIMUM_REQUIRED(VERSION 2.8)

IF(MSVC)
  IF(DEFINED WIN32_MSVC_MT)
    SET(CMAKE_C_FLAGS_DEBUG_INIT      "/D_DEBUG /MTd /Zi /Ob0 /Od /RTC1")
    SET(CMAKE_C_FLAGS_MINSIZEREL_INIT           "/MT /O1 /Ob1 /D NDEBUG")
    SET(CMAKE_C_FLAGS_RELEASE_INIT              "/MT /O2 /Ob2 /D NDEBUG")
    SET(CMAKE_C_FLAGS_RELWITHDEBINFO_INIT   "/MT /Zi /O2 /Ob1 /D NDEBUG")
    SET(CMAKE_CXX_FLAGS_DEBUG_INIT    "/D_DEBUG /MTd /Zi /Ob0 /Od /RTC1")
    SET(CMAKE_CXX_FLAGS_MINSIZEREL_INIT         "/MT /O1 /Ob1 /D NDEBUG")
    SET(CMAKE_CXX_FLAGS_RELEASE_INIT            "/MT /O2 /Ob2 /D NDEBUG")
    SET(CMAKE_CXX_FLAGS_RELWITHDEBINFO_INIT "/MT /Zi /O2 /Ob1 /D NDEBUG")
  ENDIF(DEFINED WIN32_MSVC_MT)
ELSE(MSVC)
  # Update the init compiling flags to set _DEBUG, NDEBUG as MSVC style
  # TODO: set fvisibility to default hidden ?
  SET(CMAKE_C_FLAGS_DEBUG_INIT            "-g -O0 -D_DEBUG")
  SET(CMAKE_C_FLAGS_MINSIZEREL_INIT          "-O1 -DNDEBUG")
  SET(CMAKE_C_FLAGS_RELEASE_INIT             "-O2 -DNDEBUG")
  SET(CMAKE_C_FLAGS_RELWITHDEBINFO_INIT   "-g -O2 -DNDEBUG")
  SET(CMAKE_CXX_FLAGS_DEBUG_INIT          "-g -O0 -D_DEBUG")
  SET(CMAKE_CXX_FLAGS_MINSIZEREL_INIT        "-O1 -DNDEBUG")
  SET(CMAKE_CXX_FLAGS_RELEASE_INIT           "-O2 -DNDEBUG")
  SET(CMAKE_CXX_FLAGS_RELWITHDEBINFO_INIT "-g -O2 -DNDEBUG")
ENDIF(MSVC)

